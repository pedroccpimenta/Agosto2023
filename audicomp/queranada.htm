<!DOCTYPE html>
<html lang="it">
<head>
	<meta charset="UTF-8">

	<title>Que ranada</title>
</head>

<body style='font-family: Lato;' onload="oaset()">


<!-- https://developer.mozilla.org/en-US/docs/Web/API/AudioDestinationNode
-->


Audição Comparada
	<table style='width:100%;max-width: 800px;' border=1>
		<tr>
			<td style='width:100%;height:10px;'>
				<audio id=audio1 style='width:100%' type="audio/mpeg"  controls controls="true" >
					<source src='../Orquesta Tipica Victor/TIpica Victor - Que Ranada, Instrumental (1928)(no noise).mp3'>
					<track
          src="subt-que ranada.vtt"
          label="English subtitle"
          kind="captions"
          srclang="en-us"
          default
        />
				</audio>
				<tr><td>
<!--
				<audio id="audio2" preload="auto" tabindex="0" controls="true" type="audio/mpeg" style="width:100%;height: 30px;border-radius: 8px;">
        		<source type="audio/mp3" src="../Orquesta Tipica Victor/TIpica Victor - Que Ranada, Instrumental (1928)(no noise).mp3">
        Sorry, your browser does not support HTML5 audio.
    </audio> -->
    	<input type=button style='background: palegreen;width:120px;' value='Frase 1 (Intro)' onclick='frase(0)'>
    	<input type=button style='background: lime;width:120px;'     value='F 2 (DesenvI.)' onclick='frase(1)'>
    	<input type=button style='background: palegreen;width:120px;' value='F 3 (Intro(R))' onclick='frase(2)'>
    	<input type=button style='background: Mediumspringgreen;width:120px;' value='F 4 (Res & Prep)' onclick='frase(3)'><br>
    	<input type=button style='background: khaki;width:120px;'    value='F 5 (Início Narrativa)' onclick='frase(4)'>
    	<input type=button style='background: orange;width:120px;'      value='F 6 (DesenvolN.)' onclick='frase(5)'>
    	<input type=button style='background: khaki;width:120px;'    value='F 7 (IN (R)) ' onclick='frase(6)'>
    	<input type=button style='width:120px;' value='frase 8' onclick='frase(7)'><br>
    	<input type=button style='background: pink;width:120px;'  value='frase 9' onclick='frase(8)'>
    	<input type=button style='width:120px;' value='frase 10' onclick='frase(9)'>
    	<input type=button style='background: pink;width:120px;'  value='frase 11' onclick='frase(10)'>
    	<input type=button style='background: cyan;width:120px;'  value='frase 12' onclick='frase(11)'><br>
    	<input type=button style='background: khaki;width:120px;'  value='frase 13' onclick='frase(12)'>
    	<input type=button style='background: orange;width:120px;'  value='frase 14' onclick='frase(13)'>
    	<input type=button style='background: khaki;width:120px;'  value='frase 15' onclick='frase(14)'>
    	<input type=button style='background: cyan;width:120px;'  value='frase 16' onclick='frase(15)'><br>
    	<input type=button style='background: cyan;width:120px;'  value='frase 17' onclick='frase(16)'>
    	<input type=button style='background: cyan;width:120px;'  value='frase 18' onclick='frase(17)'>
    	<input type=button style='background: cyan;width:120px;'  value='frase 19' onclick='frase(18)'>
    	<input type=button style='background: cyan;width:120px;'  value='frase 20' onclick='frase(19)'>


    <tr><td id=status style="width:100%;max-width:1100px;overflow: scroll;">
	</table>


	</body>

<script>
	ppf=JSON.parse('["2023-01-22T18:00:11.701Z","2023-01-22T18:00:12.709Z","2023-01-22T18:00:13.739Z","2023-01-22T18:00:14.763Z","2023-01-22T18:00:15.763Z","2023-01-22T18:00:16.807Z","2023-01-22T18:00:17.769Z","2023-01-22T18:00:18.794Z","2023-01-22T18:00:19.849Z","2023-01-22T18:00:20.807Z","2023-01-22T18:00:21.824Z","2023-01-22T18:00:22.824Z","2023-01-22T18:00:23.807Z","2023-01-22T18:00:24.841Z","2023-01-22T18:00:25.822Z","2023-01-22T18:00:26.862Z","2023-01-22T18:00:27.813Z","2023-01-22T18:00:28.845Z","2023-01-22T18:00:29.872Z","2023-01-22T18:00:30.899Z","2023-01-22T18:00:31.859Z","2023-01-22T18:00:32.875Z","2023-01-22T18:00:33.865Z","2023-01-22T18:00:34.857Z","2023-01-22T18:00:35.896Z","2023-01-22T18:00:36.935Z","2023-01-22T18:00:37.937Z","2023-01-22T18:00:38.943Z","2023-01-22T18:00:39.960Z","2023-01-22T18:00:40.947Z","2023-01-22T18:00:41.935Z","2023-01-22T18:00:42.953Z","2023-01-22T18:00:43.902Z","2023-01-22T18:00:45.041Z","2023-01-22T18:00:46.029Z","2023-01-22T18:00:47.029Z","2023-01-22T18:00:48.005Z","2023-01-22T18:00:49.061Z","2023-01-22T18:00:50.052Z","2023-01-22T18:00:51.028Z","2023-01-22T18:00:52.035Z","2023-01-22T18:00:53.027Z","2023-01-22T18:00:54.094Z","2023-01-22T18:00:55.050Z","2023-01-22T18:00:56.066Z","2023-01-22T18:00:57.064Z","2023-01-22T18:00:58.097Z","2023-01-22T18:00:59.056Z","2023-01-22T18:01:00.079Z","2023-01-22T18:01:01.048Z","2023-01-22T18:01:02.071Z","2023-01-22T18:01:03.103Z","2023-01-22T18:01:04.118Z","2023-01-22T18:01:05.091Z","2023-01-22T18:01:06.152Z","2023-01-22T18:01:07.148Z","2023-01-22T18:01:08.180Z","2023-01-22T18:01:09.225Z","2023-01-22T18:01:10.260Z","2023-01-22T18:01:11.276Z","2023-01-22T18:01:12.359Z","2023-01-22T18:01:13.279Z","2023-01-22T18:01:14.290Z","2023-01-22T18:01:15.266Z","2023-01-22T18:01:16.290Z","2023-01-22T18:01:17.362Z","2023-01-22T18:01:18.346Z","2023-01-22T18:01:19.336Z","2023-01-22T18:01:20.353Z","2023-01-22T18:01:21.377Z","2023-01-22T18:01:22.352Z","2023-01-22T18:01:23.352Z","2023-01-22T18:01:24.408Z","2023-01-22T18:01:25.398Z","2023-01-22T18:01:26.438Z","2023-01-22T18:01:27.408Z","2023-01-22T18:01:28.390Z","2023-01-22T18:01:29.342Z","2023-01-22T18:01:30.382Z","2023-01-22T18:01:31.414Z","2023-01-22T18:01:32.374Z","2023-01-22T18:01:33.427Z","2023-01-22T18:01:34.469Z","2023-01-22T18:01:35.444Z","2023-01-22T18:01:36.483Z","2023-01-22T18:01:37.463Z","2023-01-22T18:01:38.462Z","2023-01-22T18:01:39.492Z","2023-01-22T18:01:40.498Z","2023-01-22T18:01:41.491Z","2023-01-22T18:01:42.507Z","2023-01-22T18:01:43.466Z","2023-01-22T18:01:44.498Z","2023-01-22T18:01:45.523Z","2023-01-22T18:01:46.561Z","2023-01-22T18:01:47.562Z","2023-01-22T18:01:48.592Z","2023-01-22T18:01:49.601Z","2023-01-22T18:01:50.625Z","2023-01-22T18:01:51.600Z","2023-01-22T18:01:52.671Z","2023-01-22T18:01:53.727Z","2023-01-22T18:01:54.703Z","2023-01-22T18:01:55.711Z","2023-01-22T18:01:56.726Z","2023-01-22T18:01:57.729Z","2023-01-22T18:01:58.765Z","2023-01-22T18:01:59.798Z","2023-01-22T18:02:00.805Z","2023-01-22T18:02:01.845Z","2023-01-22T18:02:02.895Z","2023-01-22T18:02:03.849Z","2023-01-22T18:02:04.852Z","2023-01-22T18:02:05.853Z","2023-01-22T18:02:07.009Z","2023-01-22T18:02:07.917Z","2023-01-22T18:02:09.076Z","2023-01-22T18:02:09.979Z","2023-01-22T18:02:10.915Z","2023-01-22T18:02:11.956Z","2023-01-22T18:02:12.898Z","2023-01-22T18:02:13.986Z","2023-01-22T18:02:15.018Z","2023-01-22T18:02:16.008Z","2023-01-22T18:02:17.062Z","2023-01-22T18:02:18.041Z","2023-01-22T18:02:19.008Z","2023-01-22T18:02:20.043Z","2023-01-22T18:02:21.039Z","2023-01-22T18:02:22.133Z","2023-01-22T18:02:23.136Z","2023-01-22T18:02:24.192Z","2023-01-22T18:02:25.167Z","2023-01-22T18:02:26.226Z","2023-01-22T18:02:27.262Z","2023-01-22T18:02:28.254Z","2023-01-22T18:02:29.310Z","2023-01-22T18:02:30.326Z","2023-01-22T18:02:31.398Z","2023-01-22T18:02:32.418Z","2023-01-22T18:02:33.397Z","2023-01-22T18:02:34.430Z","2023-01-22T18:02:35.444Z","2023-01-22T18:02:36.427Z","2023-01-22T18:02:37.403Z","2023-01-22T18:02:38.466Z","2023-01-22T18:02:39.547Z","2023-01-22T18:02:40.605Z","2023-01-22T18:02:41.530Z","2023-01-22T18:02:42.506Z","2023-01-22T18:02:43.511Z","2023-01-22T18:02:44.473Z","2023-01-22T18:02:45.560Z","2023-01-22T18:02:46.633Z","2023-01-22T18:02:47.622Z","2023-01-22T18:02:48.623Z","2023-01-22T18:02:49.646Z","2023-01-22T18:02:50.630Z","2023-01-22T18:02:51.630Z","2023-01-22T18:02:52.741Z","2023-01-22T18:02:59.741Z"]');

	pf=[]
	cps=[]
	pf.push(2.169)
	for (h in ppf)
	{	j=new Date(ppf[h])
		if (h==0)
		{ts=j.getTime()}
		else
		{
			pf.push(pf[0]+(j-ts)/1000)
		}
	
		if (h%8==0)
			cps.push(pf[h])
	}


	//cps=[2.169, 9.559, 17.121]

	m1=0;
	function oaset()
	{	m1=document.getElementById("audio1")
		document.getElementById("status").style.width=window.innerWidth+"px"		
		console.log("OASET")
		document.getElementById("status").innerHTML=JSON.stringify(pf)
		document.getElementById("status").innerHTML+="<hr>"
		document.getElementById("status").innerHTML+=JSON.stringify(cps)
	}

	  m1=document.getElementById("audio1")
	  var ab=0
	function frase(x)
	{ clearInterval(ab)
	  m1.pause()	
	  m1.currentTime = cps[x]-.1;
	  m1.play()
	  console.log("playing at " ,  cps[x]-.1)
	  ab=setTimeout(
		  	function()
			  	{ m1.pause();
				  console.log("stoping at " +  cps[x+1]+.1)
				}, 
			(cps[x+1]-cps[x])*1000+100
		)

	}
</script>
</html>